method: shallow
root: "$XDG_CONFIG_HOME/*"

check-cmd:
  arch: ["pacman", "-T"]

install-cmd:
  arch: ["pacman", "-S", "--noconfirm"]

validate:
  "": ["arch"]
  arch:
    # amdgpu for AMD, intel for Intel, and nouveau for Nvidia
    - "gfx:(amdgpu|intel|nouveau)"

packages:
  cron:
    arch: ["cronie"]

  fira-code:
    arch: ["ttf-fira-code"]

  fonts:
    arch:
      - "gnu-free-fonts"
      - "noto-fonts"
      - "noto-fonts-cjk"
      - "noto-fonts-emoji"
      - "noto-fonts-extra"

  graphics-driver:
    "arch gfx:(.*)": ["xf86-video-$1"]

  nerd-fonts:
    arch:
      - "ttf-nerd-fonts-symbols"
      - "ttf-nerd-fonts-symbols-common"
      - "ttf-nerd-fonts-symbols-mono"

  spotify:
    arch: ["spotify-launcher"]

  xorg:
    arch:
      - "xorg-server"
      - "xorg-xinit"
      - "xf86-input-libinput"

  xorg-utils:
    arch:
      - "xorg-setxkbmap"
      - "xorg-xinput"

  zsh:
    arch:
      - "zsh"
      - "zsh-completions"

dots:
  bspwm:
    rules:
      arch:
        bspwmrc: "$XDG_CONFIG_HOME/bspwm/bspwmrc"
        scripts: "$XDG_CONFIG_HOME/bspwm/scripts"
        sxhkdrc: "$XDG_CONFIG_HOME/sxhkd/sxhkdrc"
    packages:
      bspwm: "Tiling window manager"
      sxhkd: "Keyboard shortcuts"
      feh: "Image viewer used to change the wallpaper"
      light: "Monitor backlight control"
      playerctl: "Media playback control"

  cron:
    method: none
    deploy:
      arch:
        - ["crontab", "cron/crontab"]
    packages:
      cron: "Trigger commands at certain times on certain dates"

  firefox:
    method: none
    environments:
      "firefox-chrome":
        method: deep
    rules:
      "firefox-chrome":
        "userChrome.css": "~/.mozilla/firefox/$firefox_profile/chrome/userChrome.css"
    packages:
      firefox: "Web browser"
      fonts: "Basic fonts for full unicode support"

  git:
    method: shallow
    packages:
      git: "Version control"

  kitty:
    packages:
      kitty: "Terminal emulator"
      fira-code: "Fira Code font with ligatures"

  nvim:
    packages:
      neovim: "Text editor"
      nerd-fonts: "Icons for things like file types and LSP notifications"

  picom:
    packages:
      picom: "Window compositor"

  polybar:
    packages:
      polybar: "Status bar"
      nerd-fonts: "Icons on status bar"
      fira-code: "Fira Code font with ligatures"

  python:
    packages:
      python: "Python programming language"

  ranger:
    packages:
      ranger: "CLI file browser"

  rofi:
    packages:
      rofi: "Program running menu"
      fira-code: "Fira Code font with ligatures"

  X11:
    packages:
      xorg: "X window system"
      graphics-driver: "Graphics driver"
      xorg-utils: "Utilities for configuring things like keyboard and mouse"

  zsh:
    method: deep
    rules:
      arch:
        "dot-zshenv": "~/.zshenv"
    packages:
      zsh: "Command line shell"

  misc:
    method: none
    packages:
      bat: "cat command with syntax highlighting"
      discord: "Voice and text chat"
      htop: "Process monitor"
      neofetch: "System info eye candy"
      obsidian: "Markdown note taking"
      spotify: "Music player"
