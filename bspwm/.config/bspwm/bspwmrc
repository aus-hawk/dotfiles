#! /bin/sh

pgrep -x sxhkd > /dev/null || sxhkd &

# ensure backlight never goes completely dark
light -N 10

# playerctl should control the most recently played media
playerctld daemon

polybar &
nm-applet &

bspc monitor -d I II III IV V VI VII VIII IX X

bspc config border_width         0
bspc config window_gap          10

bspc config split_ratio          0.5
bspc config borderless_monocle   true
bspc config gapless_monocle      true

bspc rule -a firefox desktop="^10"
bspc rule -a discord desktop="^9"
bspc rule -a spotify desktop="^8"
bspc rule -a obsidian desktop="^7"

kitty &
firefox &
discord &
spotify &
obsidian &

bspc config external_rules_command "$XDG_CONFIG_HOME/bspwm/scripts/spotify.sh"
